{
    "name": "ouroboros-ai",
    "displayName": "Ouroboros AI",
    "description": "Structured AI agent workflow with spec-driven development",
    "version": "3.2.15",
    "publisher": "MLGBJDLW",
    "license": "MIT",
    "icon": "resources/icon.png",
    "repository": {
        "type": "git",
        "url": "https://github.com/MLGBJDLW/ouroboros"
    },
    "engines": {
        "vscode": "^1.95.0"
    },
    "categories": [
        "AI",
        "Chat",
        "Programming Languages"
    ],
    "keywords": [
        "ai",
        "copilot",
        "agent",
        "workflow",
        "spec"
    ],
    "activationEvents": [
        "onStartupFinished"
    ],
    "main": "./dist/extension.js",
    "contributes": {
        "viewsContainers": {
            "activitybar": [
                {
                    "id": "ouroboros-sidebar",
                    "title": "Ouroboros",
                    "icon": "resources/icon.svg"
                }
            ]
        },
        "views": {
            "ouroboros-sidebar": [
                {
                    "type": "webview",
                    "id": "ouroboros.sidebarView",
                    "name": "Ouroboros",
                    "contextualTitle": "Ouroboros Workflow"
                }
            ]
        },
        "commands": [
            {
                "command": "ouroboros.initializeProject",
                "title": "Initialize Ouroboros Project",
                "category": "Ouroboros"
            },
            {
                "command": "ouroboros.openSidebar",
                "title": "Open Sidebar",
                "category": "Ouroboros"
            },
            {
                "command": "ouroboros.clearHistory",
                "title": "Clear Interaction History",
                "category": "Ouroboros"
            },
            {
                "command": "ouroboros.cancelCurrentRequest",
                "title": "Cancel Current Request",
                "category": "Ouroboros"
            },
            {
                "command": "ouroboros.updatePrompts",
                "title": "Update Prompts (Preserve Custom Tools)",
                "category": "Ouroboros"
            },
            {
                "command": "ouroboros.checkPromptsVersion",
                "title": "Check for Prompt Updates",
                "category": "Ouroboros"
            }
        ],
        "menus": {
            "commandPalette": [
                {
                    "command": "ouroboros.initializeProject",
                    "when": "workspaceFolderCount > 0"
                }
            ]
        },
        "configuration": {
            "title": "Ouroboros",
            "properties": {
                "ouroboros.executionMode": {
                    "type": "string",
                    "default": "task-by-task",
                    "enum": [
                        "task-by-task",
                        "phase-by-phase",
                        "auto-run"
                    ],
                    "enumDescriptions": [
                        "Confirm each task before execution",
                        "Confirm each phase before execution",
                        "Run all tasks automatically"
                    ],
                    "description": "Default execution mode for implement workflow"
                },
                "ouroboros.showStatusBar": {
                    "type": "boolean",
                    "default": true,
                    "description": "Show Ouroboros status in the status bar"
                },
                "ouroboros.historyLimit": {
                    "type": "number",
                    "default": 100,
                    "description": "Maximum number of interactions to keep in history"
                }
            }
        },
        "languageModelTools": [
            {
                "name": "ouroborosai_ask",
                "displayName": "Ask User",
                "toolReferenceName": "ouroborosai_ask",
                "description": "Ask the user for input or task description",
                "modelDescription": "CRITICAL: Use this tool to get input from the user when you need task instructions, feature descriptions, or answers to questions. RULES: 1) Call this tool at the END of every response to maintain the Ouroboros loop. 2) NEVER complete a response without calling this tool. 3) Use type='task' for new task input, type='question' for clarification questions, type='feature' for feature descriptions. 4) Set agentName to your current agent identity (e.g., 'ouroboros', 'ouroboros-coder').",
                "canBeReferencedInPrompt": true,
                "inputSchema": {
                    "type": "object",
                    "properties": {
                        "question": {
                            "type": "string",
                            "description": "Optional question or prompt to show the user"
                        },
                        "type": {
                            "type": "string",
                            "enum": [
                                "task",
                                "question",
                                "feature"
                            ],
                            "description": "Type of input expected"
                        },
                        "inputLabel": {
                            "type": "string",
                            "description": "Label for the input field"
                        }
                    }
                }
            },
            {
                "name": "ouroborosai_menu",
                "displayName": "Show Menu",
                "toolReferenceName": "ouroborosai_menu",
                "description": "Present a menu of options to the user",
                "modelDescription": "Use this tool when you need the user to choose from a predefined set of options. USAGE: 1) Provide a clear question explaining what the user is choosing. 2) List all available options in the options array. 3) Set allowCustom=true if the user should be able to provide custom input beyond the listed options. 4) Options should be concise but descriptive.",
                "canBeReferencedInPrompt": true,
                "inputSchema": {
                    "type": "object",
                    "required": [
                        "question",
                        "options"
                    ],
                    "properties": {
                        "question": {
                            "type": "string",
                            "description": "Question or prompt for the menu"
                        },
                        "options": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            },
                            "description": "List of options to choose from"
                        },
                        "allowCustom": {
                            "type": "boolean",
                            "description": "Allow custom input in addition to options"
                        }
                    }
                }
            },
            {
                "name": "ouroborosai_confirm",
                "displayName": "Confirm Action",
                "toolReferenceName": "ouroborosai_confirm",
                "description": "Ask the user for yes/no confirmation",
                "modelDescription": "Use this tool when you need a yes/no decision from the user. USAGE: 1) Ask clear, specific questions that can be answered with yes or no. 2) Optionally customize button labels with yesLabel and noLabel. 3) Use for confirming actions, validating understanding, or getting approval to proceed.",
                "canBeReferencedInPrompt": true,
                "inputSchema": {
                    "type": "object",
                    "required": [
                        "question"
                    ],
                    "properties": {
                        "question": {
                            "type": "string",
                            "description": "Confirmation question"
                        },
                        "yesLabel": {
                            "type": "string",
                            "description": "Label for yes button"
                        },
                        "noLabel": {
                            "type": "string",
                            "description": "Label for no button"
                        }
                    }
                }
            },
            {
                "name": "ouroborosai_plan_review",
                "displayName": "Review Plan",
                "toolReferenceName": "ouroborosai_plan_review",
                "description": "Present a plan or document for user review",
                "modelDescription": "Use this tool to present detailed plans, specifications, or documentation for user review and approval. USAGE: 1) Format the plan content in Markdown. 2) Use mode='review' for plans requiring approval, mode='walkthrough' for informational guides. 3) Provide a descriptive title. 4) Wait for user feedback before proceeding with implementation.",
                "canBeReferencedInPrompt": true,
                "inputSchema": {
                    "type": "object",
                    "required": [
                        "plan"
                    ],
                    "properties": {
                        "plan": {
                            "type": "string",
                            "description": "The plan content in markdown format"
                        },
                        "title": {
                            "type": "string",
                            "description": "Title for the plan review"
                        },
                        "mode": {
                            "type": "string",
                            "enum": [
                                "review",
                                "walkthrough"
                            ],
                            "description": "Review mode"
                        }
                    }
                }
            },
            {
                "name": "ouroborosai_phase_progress",
                "displayName": "Update Phase Progress",
                "toolReferenceName": "ouroborosai_phase_progress",
                "description": "Update and display workflow phase progress",
                "modelDescription": "Use this tool to update the UI with current workflow progress. USAGE: 1) Call when entering a new phase of the spec or implement workflow. 2) Set workflow='spec' for specification phases, workflow='implement' for implementation phases. 3) currentPhase is 1-indexed. 4) Provide a descriptive status message explaining current work.",
                "canBeReferencedInPrompt": true,
                "inputSchema": {
                    "type": "object",
                    "required": [
                        "workflow",
                        "specName",
                        "currentPhase",
                        "totalPhases",
                        "status"
                    ],
                    "properties": {
                        "workflow": {
                            "type": "string",
                            "enum": [
                                "spec",
                                "implement"
                            ],
                            "description": "Workflow type"
                        },
                        "specName": {
                            "type": "string",
                            "description": "Name of the spec being processed"
                        },
                        "currentPhase": {
                            "type": "number",
                            "description": "Current phase number (1-indexed)"
                        },
                        "totalPhases": {
                            "type": "number",
                            "description": "Total number of phases"
                        },
                        "status": {
                            "type": "string",
                            "description": "Current status message"
                        }
                    }
                }
            },
            {
                "name": "ouroborosai_agent_handoff",
                "displayName": "Agent Handoff",
                "toolReferenceName": "ouroborosai_agent_handoff",
                "description": "Notify of agent handoff between levels",
                "modelDescription": "Use this tool when delegating work to a sub-agent or returning results to a parent agent. RULES: 1) fromLevel and toLevel must be 0 (main orchestrator), 1 (workflow agent), or 2 (specialist agent). 2) Always provide a clear reason for the handoff. 3) Call this BEFORE dispatching to another agent or when returning control.",
                "canBeReferencedInPrompt": true,
                "inputSchema": {
                    "type": "object",
                    "required": [
                        "from",
                        "to",
                        "fromLevel",
                        "toLevel"
                    ],
                    "properties": {
                        "from": {
                            "type": "string",
                            "description": "Name of the source agent"
                        },
                        "to": {
                            "type": "string",
                            "description": "Name of the target agent"
                        },
                        "fromLevel": {
                            "type": "number",
                            "enum": [
                                0,
                                1,
                                2
                            ],
                            "description": "Level of source agent"
                        },
                        "toLevel": {
                            "type": "number",
                            "enum": [
                                0,
                                1,
                                2
                            ],
                            "description": "Level of target agent"
                        },
                        "reason": {
                            "type": "string",
                            "description": "Reason for handoff"
                        }
                    }
                }
            }
        ]
    },
    "scripts": {
        "vscode:prepublish": "npm run package",
        "compile": "npm run build-webview && esbuild ./src/extension.ts --bundle --outfile=dist/extension.js --external:vscode --format=cjs --platform=node",
        "watch": "npm run compile -- --watch",
        "build-webview": "cd webview && npm run build",
        "package": "npm run compile -- --minify",
        "lint": "eslint src --ext ts",
        "test": "vitest"
    },
    "devDependencies": {
        "@eslint/js": "^9.0.0",
        "@types/node": "^20.0.0",
        "@types/vscode": "^1.95.0",
        "@typescript-eslint/eslint-plugin": "^8.0.0",
        "@typescript-eslint/parser": "^8.0.0",
        "@vitest/coverage-v8": "^2.1.9",
        "esbuild": "^0.24.0",
        "eslint": "^9.0.0",
        "eslint-config-prettier": "^10.1.8",
        "prettier": "^3.7.4",
        "typescript": "^5.0.0",
        "typescript-eslint": "^8.50.0",
        "vitest": "^2.0.0"
    },
    "dependencies": {
        "zod": "^3.0.0"
    }
}